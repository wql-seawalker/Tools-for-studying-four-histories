# 答四史题目脚本 made by wql v1.2.5

## 免责声明：代码内容不得用于商业用途，仅做学习交流。
同时，本代码为自动刷分的脚本，请不要滥用该技术。由此产生的任何形式的个人损失，本人不负任何责任。
http://ssxx.univs.cn/clientLogin?redirect=%2Fclient%2Fdetail%2F5f71e934bcdbf3a8c3ba5061
上面这个为学四史网站。有兴趣的可以自行了解。

## 对本程序的介绍
- 使用方法：基于matlab，进入该文件夹，输入main后的5s内将界面调至学四史界面可自动刷题。
若想改变运行次数、时间，在main中改变ia的上下限即可。

- 运行环境和条件：`Matlab R2020a` 屏幕`2160*1440`分辨率 微信打开的学四史界面全屏

- 关于程序：本程序鲁棒性很差，任何像素的位移都会导致识别出错。
在v1.1.1的版本中更新了题目判断机制，使其在不稳定的网络连接下、遇到突发的几种情况下仍能进行判断工作。

若屏幕没有`2160*1440`分辨率档，需要您自行调整`judge`内参数 `287 & 274` 以及相应的特征读取板块，
并重新从0开始录入题库。这需要您自己新建相应的工作区变量替换掉程序附带的变量。

目前的主要问题在于特征板块过小导致出现了2-3道题目有多解，在这种情况下会卡住。
对于多解的问题在v1.1.3（未上传）版本中采用的个体题目筛查法，v1.2版本中采用了第二层题库判断。

刷分效率基本上`1分/1.7s`，准确率在`98%`左右。但由于追求较高的效率，程序运行速度很快，在程序运行中很难退出。

- 遇到问题的解决方案：
突发情况下无法停止该程序：利用Alt+Tab/四指切换至matlab命令行界面，在0.1s内划鼠标至工作区并按下Ctrl+C。在之后在命令行输入delete_data用于清理冗余数据。
或者利用四指切换页面，摁出Alt+F4关闭电脑或页面。
遇到卡在某题不继续进行：努力在0.1s内滑动鼠标至某个选项，点中即可。

## 版本更迭：
- v1.2.5 2020/11/3<br>
对judge代码增加了大量注释，对基础板块进行了解释工作，使代码可读性增强。

- v1.2.4<br>
重写了第二题库的特征提取区域，避免了很大部分数据需要后期维护。

- v1.2.3<br>
延长了出错时的判断时间，留给系统网站反应时间，并清除了已有的第二道辅助题库中的冗余数据。

- v1.2.2 2020/11/2<br>
对上个版本存在的误判区域重新调整并上传了

- v1.2.1<br>
更新了多答案题目的判断方法，新增了第二道辅助题库

- v1.1.3<br>
采集了一部分有问题的问题样本，将答案重新录入进去。

- v1.1.2 2020/11/1<br>
测试调整了延时时间，使得刷分速率从6s降低到2s

- v1.1.1<br> 
更新了题目判断机制，将开局、结束、徽章、失去授权四个界面加入单个题目的预先判断中。
不再采用固定的每20道题目进行结束、开始操作，令程序在遭遇网络延迟等情况时可以继续判断开始结束界面，节约了一部分时间。

- v1.0.1<br>
第一代可运行脚本
